<div class="container mt-5">
  <div class="d-flex justify-content-between align-items-center mb-4">
    <h2 class="text-primary fw-bold">Könyvtár Nyilvántartás</h2>
    <a routerLink="/add-book" class="btn btn-success shadow-sm px-4">
      <i class="bi bi-plus-lg me-2"></i>Új könyv hozzáadása
    </a>
  </div>

  <div class="card shadow border-0">
    <div class="card-body p-0">
      <table class="table table-hover align-middle mb-0">
        <thead class="table-dark">
          <tr>
            <th class="ps-4">Cím</th>
            <th>Szerző</th>
            <th class="text-center">Kiadás éve</th>
            <th class="text-center">Műveletek</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let book of paginatedBooks">
            <td class="ps-4 fw-bold">{{ book.title }}</td>
            <td>{{ book.author }}</td>
            <td class="text-center">{{ book.year }}</td>
            <td class="text-center">
              <a [routerLink]="['/edit-book', book.id]" class="btn btn-sm btn-outline-warning me-2 px-3">Szerkesztés</a>
              <button (click)="deleteBook(book.id)" class="btn btn-sm btn-outline-danger px-3">Törlés</button>
            </td>
          </tr>
          
          <tr *ngIf="paginatedBooks.length === 0">
            <td colspan="4" class="text-center py-5 text-muted">
              Nincsenek könyvek az adatbázisban.
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <nav *ngIf="totalPages > 1" class="mt-4">
    <ul class="pagination justify-content-center">
      <li class="page-item" [class.disabled]="currentPage === 1">
        <button type="button" class="page-link" (click)="changePage(currentPage - 1)">Előző</button>
      </li>
      <li class="page-item" *ngFor="let page of getPagesArray()" [class.active]="currentPage === page">
        <button type="button" class="page-link" (click)="changePage(page)">{{ page }}</button>
      </li>
      <li class="page-item" [class.disabled]="currentPage === totalPages">
        <button type="button" class="page-link" (click)="changePage(currentPage + 1)">Következő</button>
      </li>
    </ul>
  </nav>
</div>